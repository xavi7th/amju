(self.webpackChunk=self.webpackChunk||[]).push([[596],{2596:(t,a,e)=>{var s={"./EmptyComponent":982,"./EmptyComponent.vue":982,"./accounts/ManageAccounts":1400,"./accounts/ManageAccounts.vue":1400,"./admins/ManageAdmins":1290,"./admins/ManageAdmins.vue":1290,"./auth/Login":4850,"./auth/Login.vue":4850,"./auth/Register":8363,"./auth/Register.vue":8363,"./dashboard/AdminDashboard":6237,"./dashboard/AdminDashboard.vue":6237,"./dashboard/ManageMessages":2270,"./dashboard/ManageMessages.vue":2270,"./misc/PageLoader":8214,"./misc/PageLoader.vue":8214,"./partials/FooterComponent":698,"./partials/FooterComponent.vue":698,"./partials/HeaderComponent":2051,"./partials/HeaderComponent.vue":2051,"./partials/NavComponent":5517,"./partials/NavComponent.vue":5517,"./partials/PageHeaderComponent":3864,"./partials/PageHeaderComponent.vue":3864,"./ui/ManageTestimonials":6274,"./ui/ManageTestimonials.vue":6274};function i(t){var a=r(t);return e(a)}function r(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id=2596},3477:(t,a,e)=>{"use strict";e.d(a,{T4:()=>l,Ty:()=>o,k$:()=>r,lk:()=>i,oD:()=>c,yW:()=>d,z$:()=>n});var s="/tope-amju/api/",i=s+"admins",r=s+"admin/create",o=function(t){return s+"admin/"+t+"/permissions"},n=s+"users",l=s+"testimonials",d=s+"testimonial/create",c=function(t){return s+"testimonial/"+t+"/delete"}},6833:(t,a,e)=>{"use strict";e.d(a,{Z:()=>r});var s=e(1519),i=e.n(s)()((function(t){return t[1]}));i.push([t.id,".modal-right .modal-dialog[data-v-3bd2d036]{min-width:35%}.modal-right .modal-dialog .modal-body[data-v-3bd2d036]{overflow-y:auto}",""]);const r=i},4693:(t,a,e)=>{"use strict";e.d(a,{Z:()=>r});var s=e(1519),i=e.n(s)()((function(t){return t[1]}));i.push([t.id,'.modal-right .modal-dialog[data-v-550554f3]{min-width:35%}.modal-right .modal-dialog .modal-body[data-v-550554f3]{overflow-y:auto}.section-loader[data-v-550554f3]{margin-left:0;min-height:90vh;position:fixed}.form-group[data-v-550554f3]{position:relative}.form-group span[data-v-550554f3]{bottom:7px;color:#d33;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;pointer-events:none;position:absolute;right:20px;transition:opacity .3s ease-in}.form-group.has-error .form-control[data-v-550554f3]{border-color:#f90a48;box-shadow:0 0 10px rgba(249,10,72,.2)}.form-group.has-error>span[data-v-550554f3]{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";opacity:1}',""]);const r=i},5689:(t,a,e)=>{"use strict";e.d(a,{Z:()=>r});var s=e(1519),i=e.n(s)()((function(t){return t[1]}));i.push([t.id,'.auth-right[data-v-347a99d5]{background-position:50%;background-repeat:no-repeat;background-size:cover}.auth-right .auth-right__caption[data-v-347a99d5]{font-size:larger}.logo .logo-type-colored a span[data-v-347a99d5]{color:#1b97eb;text-transform:capitalize}.logo .logo-type-colored a span>span[data-v-347a99d5]{color:#f90a48}.auth-split .auth-left button[data-v-347a99d5]{font-weight:700}.btn-primary.btn-shadow[data-v-347a99d5]{box-shadow:0 3px 10px rgba(27,151,235,.5)}.btn-primary[data-v-347a99d5]{background-color:#1b97eb;border-color:#1b97eb}.form-group[data-v-347a99d5]{position:relative}.form-group span[data-v-347a99d5]{bottom:7px;color:#d33;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;pointer-events:none;position:absolute;right:20px;transition:opacity .3s ease-in}.form-group.has-error .form-control[data-v-347a99d5]{border-color:#f90a48;box-shadow:0 0 10px rgba(249,10,72,.2)}.form-group.has-error>span[data-v-347a99d5]{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";opacity:1}',""]);const r=i},6266:(t,a,e)=>{"use strict";e.d(a,{Z:()=>r});var s=e(1519),i=e.n(s)()((function(t){return t[1]}));i.push([t.id,'.modal-right .modal-dialog[data-v-5a9cf2f1]{min-width:35%}.modal-right .modal-dialog .modal-body[data-v-5a9cf2f1]{overflow-y:auto}.section-loader[data-v-5a9cf2f1]{margin-left:0;min-height:90vh;position:fixed}.form-group[data-v-5a9cf2f1]{position:relative}.form-group span[data-v-5a9cf2f1]{bottom:7px;color:#d33;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;pointer-events:none;position:absolute;right:20px;transition:opacity .3s ease-in}.form-group.has-error .form-control[data-v-5a9cf2f1]{border-color:#f90a48;box-shadow:0 0 10px rgba(249,10,72,.2)}.form-group.has-error>span[data-v-5a9cf2f1]{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";opacity:1}.ellipsis[data-v-5a9cf2f1]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[type=file][data-v-5a9cf2f1]{height:0;overflow:hidden;width:0}[type=file]#file[data-v-5a9cf2f1]{border:none;border-radius:0;padding:0}[type=file]+label[data-v-5a9cf2f1]{background:#00aced;border:1px solid silver;border-radius:40px;color:#fff;cursor:pointer;display:inline-block;font-family:Poppins,sans-serif;font-size:inherit;font-weight:600;margin-bottom:1rem;outline:none;padding:.8rem 20px;position:relative;transition:all .3s;vertical-align:middle}[type=file]+label[data-v-5a9cf2f1]:hover{background-color:#d3460d}[type=file]+label.btn-1[data-v-5a9cf2f1]{background-color:#f79159;box-shadow:0 6px #f57128;transition:none}[type=file]+label.btn-1[data-v-5a9cf2f1]:hover{box-shadow:0 4px #f57128;top:2px}[type=file]+label.btn-2[data-v-5a9cf2f1]{background-color:#fff;background-image:url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"),linear-gradient(180deg,#fff,#e5e5e5);border-radius:50px;color:#888;font-weight:400;overflow:hidden;padding-left:20px;text-align:left;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap;width:100%}[type=file]+label.btn-2[data-v-5a9cf2f1]:before{color:#fff;font-size:100%;height:100%;line-height:3.3;position:absolute;right:130%;top:0;transition:all .3s}[type=file]+label.btn-2[data-v-5a9cf2f1]:hover{background-color:#f2f2f2;background-image:url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"),linear-gradient(180deg,#e5e5e5,#fff)}[type=file]+label.btn-2[data-v-5a9cf2f1]:hover:before{right:75%}',""]);const r=i},982:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>s});const s=(0,e(1900).Z)({},(function(){var t=this;return(0,t._self._c)("router-view",{on:{"page-loaded":function(a){return t.$emit("page-loaded")}}})}),[],!1,null,null,null).exports},1400:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>d});var s=e(3477);const i={name:"ManageAdmins",data:function(){return{users:{},userDetails:{}}},created:function(){var t=this;axios.get(s.z$).then((function(a){var e=a.data.users;t.users=e,t.$nextTick((function(){$((function(){$("#datatable1").DataTable({responsive:!0,language:{searchPlaceholder:"Search...",sSearch:""}})}))}))}))},mounted:function(){this.$emit("page-loaded")},methods:{testIt:function(t){this.userDetails=t},slugToString:function(t){for(var a=t.split("_"),e=0;e<a.length;e++){var s=a[e];a[e]=s.charAt(0).toUpperCase()+s.slice(1)}return a.join(" ")}}};var r=e(3379),o=e.n(r),n=e(6833),l={insert:"head",singleton:!1};o()(n.Z,l);n.Z.locals;const d=(0,e(1900).Z)(i,(function(){var t=this,a=t._self._c;return a("main",[a("page-header",{attrs:{pageTitle:"Manage Admins"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"document"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"datatable1"}},[t._m(0),t._v(" "),a("tbody",t._l(t.users,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.full_name))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.is_verified?"Account Verified":"Unverified Account"))]),t._v(" "),a("td",[a("div",{staticClass:"badge badge-success badge-shadow pointer",attrs:{"data-toggle":"modal","data-target":"#modal-right"},on:{click:function(a){return t.testIt(e)}}},[t._v("View Full Details")])])])})),0)]),t._v(" "),a("div",{staticClass:"modal modal-right fade",attrs:{id:"modal-right",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.userDetails.full_name)+"' details")]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card overflow-hidden"},[a("div",{staticClass:"card-body py-0"},[a("div",{staticClass:"card-row"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[t._m(2),t._v(" "),a("tbody",t._l(t.userDetails,(function(e,s,i){return a("tr",{key:i},[a("td",[t._v(t._s(t.slugToString(s)))]),t._v(" "),a("td",["user_passport"!=s?a("span",[t._v(t._s(e))]):a("a",{attrs:{href:e,target:"_blank"}},[a("img",{staticClass:"img-fluid",attrs:{src:e,alt:""}})])])])})),0)])])])])])])]),t._v(" "),t._m(3)])])])])])])])],1)}),[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Full Name")]),t._v(" "),a("th",[t._v("Phone")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Actions")])])])},function(){var t=this._self._c;return t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Value")])])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-bold btn-pure btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}],!1,null,"3bd2d036",null).exports},1290:(t,a,e)=>{"use strict";function s(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}e.r(a),e.d(a,{default:()=>m});var i=e(3477);function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function o(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const n={name:"ManageAdmins",data:function(){return{users:[],userDetails:{},sectionLoading:!1,all_routes:[],permitted_routes:[],details:{}}},components:{PreLoader:e(8214).default},created:function(){var t=this;axios.get(i.lk).then((function(a){var e=a.data.users;t.users=e,t.$nextTick((function(){$((function(){$("#datatable1").DataTable({responsive:!0,language:{searchPlaceholder:"Search...",sSearch:""}})}))}))}))},mounted:function(){this.$emit("page-loaded")},methods:{showModal:function(t){this.userDetails=t},showPermModal:function(t){var a=this;this.userDetails=t,axios.get((0,i.Ty)(t.id)).then((function(t){var e=t.data,s=e.all_routes,i=e.permitted_routes;a.all_routes=s,a.permitted_routes=i,a.$nextTick((function(){$((function(){a.sectionLoading=!1}))}))}))},slugToString:function(t){for(var a=t.split("_"),e=0;e<a.length;e++){var s=a[e];a[e]=s.charAt(0).toUpperCase()+s.slice(1)}return a.join(" ")},updateAdminPermissions:function(){var t=this;this.sectionLoading=!0,BlockToast.fire({text:"updating admin permissions ..."}),axios.put((0,i.Ty)(this.userDetails.id),{permitted_routes:this.permitted_routes}).then((function(a){204===a.status?Toast.fire({title:"Success",text:"User permissions updated",position:"center"}):Toast.fire({title:"Failed",text:"Something wrong happend",position:"center"}),t.$nextTick((function(){$((function(){t.sectionLoading=!1}))}))}))},createAdmin:function(){var t=this;this.$validator.validateAll().then((function(a){a?(BlockToast.fire({text:"Accessing your dashboard..."}),axios.post(i.k$,function(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(Object(e),!0).forEach((function(a){o(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}({},t.details)).then((function(a){var e=a.status,s=a.data.rsp;console.log(s),void 0!==e&&201==e&&(t.details={},t.users.push(s),Toast.fire({title:"Created",text:"They will be required to set a password om their first login",type:"success",position:"center"}))})).catch((function(t){500==t.response.status&&swal.fire({title:"Error",text:"Something went wrong on server. Creation not successful.",type:"error"})}))):Toast.fire({title:"Invalid data! Try again",position:"center",type:"error"})}))}}};var l=e(3379),d=e.n(l),c=e(4693),u={insert:"head",singleton:!1};d()(c.Z,u);c.Z.locals;const m=(0,e(1900).Z)(n,(function(){var t=this,a=t._self._c;return a("main",[a("page-header",{attrs:{pageTitle:"Manage Admins"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"datatable1"}},[t._m(1),t._v(" "),a("tbody",t._l(t.users,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.full_name))]),t._v(" "),a("td",[t._v(t._s(e.phone))]),t._v(" "),a("td",[t._v(t._s(e.is_verified?"Account Verified":"Unverified Account"))]),t._v(" "),a("td",[a("div",{staticClass:"badge badge-success badge-shadow pointer",attrs:{"data-toggle":"modal","data-target":"#modal-right"},on:{click:function(a){return t.showModal(e)}}},[t._v("View Full Details")]),t._v(" "),a("div",{staticClass:"badge badge-purple pointer",attrs:{"data-toggle":"modal","data-target":"#modal-perm"},on:{click:function(a){return t.showPermModal(e)}}},[t._v("Permissions")])])])})),0)]),t._v(" "),a("div",{staticClass:"modal modal-left fade",attrs:{id:"modal-right",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.userDetails.full_name)+"' details")]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card overflow-hidden"},[a("div",{staticClass:"card-body py-0"},[a("div",{staticClass:"card-row"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[t._m(3),t._v(" "),a("tbody",t._l(t.userDetails,(function(e,s,i){return a("tr",{key:i},[a("td",[t._v(t._s(t.slugToString(s)))]),t._v(" "),a("td",["user_passport"!=s?a("span",[t._v(t._s(e))]):a("a",{attrs:{href:e,target:"_blank"}},[a("img",{staticClass:"img-fluid",attrs:{src:e,alt:""}})])])])})),0)])])])])])])]),t._v(" "),t._m(4)])])]),t._v(" "),a("div",{staticClass:"modal modal-right fade",attrs:{id:"modal-perm",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.userDetails.full_name)+"' details")]),t._v(" "),t._m(5)]),t._v(" "),a("div",{staticClass:"modal-body"},[t.sectionLoading?a("pre-loader",{staticClass:"section-loader"}):t._e(),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[t._m(6),t._v(" "),a("div",{staticClass:"card-body py-0"},[a("div",{staticClass:"card-row"},[t._l(t.all_routes,(function(e){return a("div",{key:e.id,staticClass:"widget-item pt-20 pb-25"},[a("label",{staticClass:"control control-checkbox mb-0"},[a("span",{staticClass:"text-transparent"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.permitted_routes,expression:"permitted_routes"}],attrs:{type:"checkbox"},domProps:s({checked:t.permitted_routes.includes(e.id),value:e.id},"checked",Array.isArray(t.permitted_routes)?t._i(t.permitted_routes,e.id)>-1:t.permitted_routes),on:{change:function(a){var s=t.permitted_routes,i=a.target,r=!!i.checked;if(Array.isArray(s)){var o=e.id,n=t._i(s,o);i.checked?n<0&&(t.permitted_routes=s.concat([o])):n>-1&&(t.permitted_routes=s.slice(0,n).concat(s.slice(n+1)))}else t.permitted_routes=r}}}),t._v(" "),a("span",{staticClass:"control-icon"})]),t._v(" "),a("div",{staticClass:"flex j-c-between w-100p"},[a("span",{staticClass:"widget-title mt-2"},[t._v(t._s(e.description))]),t._v(" "),a("span",{staticClass:"widget-text-small"},[t._v(t._s(t.permitted_routes.includes(e.id)?"permitted":"not permitted"))])])])})),t._v(" "),a("button",{staticClass:"btn btn-bold btn-pure btn-info ml-120 my-30",attrs:{type:"button"},on:{click:t.updateAdminPermissions}},[t._v("Save changes")])],2)])])])],1),t._v(" "),t._m(7)])])]),t._v(" "),a("div",{staticClass:"modal modal-right fade",attrs:{id:"modal-admin",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(8),t._v(" "),a("div",{staticClass:"modal-body"},[t.sectionLoading?a("pre-loader",{staticClass:"section-loader"}):t._e(),t._v(" "),a("form",{staticClass:"m-25"},[a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("full_name")}},[t._m(9),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.full_name,expression:"details.full_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-full-name",name:"full_name"},domProps:{value:t.details.full_name},on:{input:function(a){a.target.composing||t.$set(t.details,"full_name",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("full_name")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("email")}},[t._m(10),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.email,expression:"details.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-mail",name:"email"},domProps:{value:t.details.email},on:{input:function(a){a.target.composing||t.$set(t.details,"email",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("email")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("phone")}},[t._m(11),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.phone,expression:"details.phone"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-phone",name:"phone"},domProps:{value:t.details.phone},on:{input:function(a){a.target.composing||t.$set(t.details,"phone",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("phone")))])]),t._v(" "),a("div",{staticClass:"form-group mt-20"},[a("button",{staticClass:"btn btn-rss btn-round btn-block",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createAdmin}},[t._v("Create")])])])],1),t._v(" "),t._m(12)])])])])])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card-title"},[t("button",{staticClass:"btn btn-bold btn-pure btn-twitter btn-shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#modal-admin"}},[this._v("Create Admin")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Full Name")]),t._v(" "),a("th",[t._v("Phone")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Actions")])])])},function(){var t=this._self._c;return t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Value")])])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-bold btn-pure btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])},function(){var t=this._self._c;return t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title flex j-c-between"},[a("h4",[t._v("TASKS")]),t._v(" "),a("div",{staticClass:"dropdown"},[a("a",{staticClass:"btn-dot-link",attrs:{href:"","data-toggle":"dropdown"}},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right fs-12"},[a("a",{staticClass:"dropdown-item fs-12",attrs:{href:""}},[a("i",{staticClass:"fa fa-plus w-20"}),t._v(" Add New\n                          ")]),t._v(" "),a("a",{staticClass:"dropdown-item fs-12",attrs:{href:""}},[a("i",{staticClass:"fas fa-redo-alt w-20"}),t._v(" Refresh\n                          ")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-bold btn-pure btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("Enter Admin Details")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-full-name"}},[t("strong",[this._v("Full Name")])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-mail"}},[t("strong",[this._v("E-Mail")])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-phone"}},[t("strong",[this._v("Phone")])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-bold btn-pure btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}],!1,null,"550554f3",null).exports},4850:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>c});function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const r={name:"AdminAuth",mounted:function(){this.$emit("page-loaded")},data:function(){return{details:{}}},methods:{loginAdmin:function(){var t=this;this.$validator.validateAll().then((function(a){a?(BlockToast.fire({text:"Accessing your dashboard..."}),axios.post("/tope-amju/login",function(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){i(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}({},t.details)).then((function(t){void 0!==t&&202==t.status?(swal.close(),sessionStorage.clear(),location.reload()):void 0!==t&&205==t.status&&swal.fire({title:"Suspended Account",text:t.data.msg,type:"warning"}).then((function(){location.reload()}))})).catch((function(a){416==a.response.status&&swal.fire({title:"Unverified",text:"This seems to be your first login. You need to supply a password",type:"info"}).then((function(){swal.fire({title:"Enter a password",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Set Password",showLoaderOnConfirm:!0,preConfirm:function(a){return axios.post("first-time",{pw:a,email:t.details.email}).then((function(t){if(204!==t.status)throw new Error(t.statusText);return{rsp:!0}})).catch((function(t){swal.showValidationMessage("Request failed: ".concat(t))}))},allowOutsideClick:function(){return!swal.isLoading()}}).then((function(t){t.value&&swal.fire({title:"Success",text:"Password set successfully!",type:"success"}).then((function(){location.reload()}))}))}))}))):Toast.fire({title:"Invalid data! Try again",position:"center",type:"error"})}))}}};var o=e(3379),n=e.n(o),l=e(5689),d={insert:"head",singleton:!1};n()(l.Z,d);l.Z.locals;const c=(0,e(1900).Z)(r,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"auth-split"},[a("div",{staticClass:"auth-left"},[a("div",{staticClass:"auth-box-wrapper"},[t._m(0),t._v(" "),a("div",{staticClass:"fs-18 fw-600 text-center mb-30 text-title"},[t._v("Log In")]),t._v(" "),a("form",{on:{submit:function(a){return a.preventDefault(),t.loginAdmin.apply(null,arguments)}}},[a("div",{staticClass:"form-group mb-20",class:{"has-error":t.errors.has("email")}},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.email,expression:"details.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-mail",name:"email"},domProps:{value:t.details.email},on:{input:function(a){a.target.composing||t.$set(t.details,"email",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("email")))])]),t._v(" "),a("div",{staticClass:"form-group mb-20",class:{"has-error":t.errors.has("password")}},[t._m(2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.password,expression:"details.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"password",id:"form-pass",name:"password"},domProps:{value:t.details.password},on:{input:function(a){a.target.composing||t.$set(t.details,"password",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("password")))])]),t._v(" "),t._m(3)])])]),t._v(" "),t._m(4)])}),[function(){var t=this,a=t._self._c;return a("div",{staticClass:"auth-logo"},[a("div",{staticClass:"logo"},[a("div",{staticClass:"logo-type logo-type-colored"},[a("img",{staticClass:"loader-img",attrs:{src:"/img/logo-round-small.png",alt:"Amju Unique MFB Logo"}}),t._v(" "),a("a",{attrs:{href:"/"}},[a("span",[t._v("\n                amju\n                "),a("span",[t._v("unique")])])])])])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-mail"}},[t("strong",[this._v("E-Mail")])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-pass"}},[t("strong",[this._v("Password")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group flex j-c-center mt-30"},[t("button",{staticClass:"btn btn-primary btn-shadow btn-round"},[this._v("Log In")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"auth-right",staticStyle:{"background-image":"url('/img/amju-building.jpg')"}},[a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-right__caption"},[a("h1",[t._v("Admin Panel")]),t._v(" "),a("p",[t._v("\n          Unauthorized attempts to access information or change information on these pages are strictly prohibited and\n          are punishable under the Computer Fraud and Abuse Act of 2010 and the Private Information Infrastructure Protection Act.\n        ")])])])])}],!1,null,"347a99d5",null).exports},8363:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>s});const s=(0,e(1900).Z)({},undefined,undefined,!1,null,null,null).exports},6237:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>i});const s={name:"AdminDashboard",mounted:function(){this.$emit("page-loaded")}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t._self._c;return a("main",[a("page-header",{attrs:{pageTitle:"Dashboard"}}),t._v(" "),t._m(0)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"content"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[this._v("Manage yfjhg")])])])}],!1,null,"29d4a19d",null).exports},2270:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>i});e(3864);const s={name:"ManageMessages",mounted:function(){this.$emit("page-loaded")}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t._self._c;return a("main",[a("page-header",{attrs:{pageTitle:"Dashboard"}}),t._v(" "),t._m(0)],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"content"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[this._v("Manage Messages")])])])}],!1,null,"4a5a9808",null).exports},3864:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>i});const s={name:"PageHeader",props:{pageTitle:{required:!0,type:String}}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"main-header"},[a("div",{staticClass:"header-info"},[a("h1",{staticClass:"title"},[t._v(t._s(t.pageTitle))])])])}),[],!1,null,"5f502401",null).exports},6274:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>d});var s=e(3477);const i={name:"ManageTestimonials",data:function(){return{testimonials:[],testimonialDetails:{},sectionLoading:!1,details:{},fileUploadName:"Upload user's passport"}},components:{PreLoader:e(8214).default},created:function(){var t=this;axios.get(s.T4).then((function(a){var e=a.data.testimonials;t.testimonials=e,t.$nextTick((function(){$((function(){$("#testimonialTable").DataTable({responsive:!0,language:{searchPlaceholder:"Search...",sSearch:""}})}))}))}))},mounted:function(){this.$emit("page-loaded")},methods:{attachFile:function(){this.fileUploadName=this.$refs.img.files[0].name,this.details.user_img=this.$refs.img.files[0]},createTestimonial:function(){var t=this;this.$validator.validateAll().then((function(a){if(a){BlockToast.fire({text:"Creating testimonial..."});var e=new FormData;_.forEach(t.details,(function(t,a){e.append(a,t)})),axios.post(s.yW,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){var e=a.status,s=a.data.rsp;console.log(s),void 0!==e&&201==e&&(t.details={},t.testimonials.unshift(s),Toast.fire({title:"Created",text:"Testimonial created",type:"success",position:"center"}))})).catch((function(t){500==t.response.status&&swal.fire({title:"Error",text:"Something went wrong on server. Creation not successful.",type:"error"})}))}else Toast.fire({title:"Invalid data! Try again",position:"center",type:"error"})}))},deleteTestimonial:function(t){var a=this;axios.delete((0,s.oD)(t.id)).then((function(e){if(204==e.status){var s=a.testimonials.indexOf(t);-1!=s&&a.testimonials.splice(s,1),Toast.fire({title:"Deleted!",text:"testimonial was successfully deleted",position:"center"})}else Toast.fire({title:"Failed!",text:"We were unable to delete the testimonial",position:"center",type:"error"})}))}}};var r=e(3379),o=e.n(r),n=e(6266),l={insert:"head",singleton:!1};o()(n.Z,l);n.Z.locals;const d=(0,e(1900).Z)(i,(function(){var t=this,a=t._self._c;return a("main",[a("page-header",{attrs:{pageTitle:"Manage Testimonials"}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-bordered table-hover",attrs:{id:"testimonialTable"}},[t._m(1),t._v(" "),a("tbody",t._l(t.testimonials,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"pointer"},[t._v(t._s(e.id))]),t._v(" "),a("td",[a("button",{staticClass:"badge badge-danger",on:{click:function(a){return t.deleteTestimonial(e)}}},[t._v("Delete")])]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.city)+", "+t._s(e.country))]),t._v(" "),a("td",[a("a",{attrs:{href:e.img,target:"_blank"}},[a("img",{attrs:{src:e.img,alt:"".concat(e.name,"'s image'"),height:"100"}})])]),t._v(" "),a("td",{staticClass:"ellipsis"},[t._v(t._s(e.testimonial))])])})),0)]),t._v(" "),a("div",{staticClass:"modal modal-right fade",attrs:{id:"modal-testimonial",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[t.sectionLoading?a("pre-loader",{staticClass:"section-loader"}):t._e(),t._v(" "),a("form",{staticClass:"m-25"},[a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("name")}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"img",attrs:{type:"file",id:"form-img",name:"img",accept:"image/*"},on:{change:t.attachFile}}),t._v(" "),a("label",{attrs:{for:"form-img"}},[a("strong",[t._v(t._s(t.fileUploadName))])]),t._v(" "),a("span",[t._v(t._s(t.errors.first("name")))])])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("name")}},[t._m(3),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.name,expression:"details.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-full-name",name:"name"},domProps:{value:t.details.name},on:{input:function(a){a.target.composing||t.$set(t.details,"name",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("name")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("city")}},[t._m(4),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.city,expression:"details.city"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-mail",name:"city"},domProps:{value:t.details.city},on:{input:function(a){a.target.composing||t.$set(t.details,"city",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("city")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("country")}},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.country,expression:"details.country"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{type:"text",id:"form-mail",name:"country"},domProps:{value:t.details.country},on:{input:function(a){a.target.composing||t.$set(t.details,"country",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("country")))])]),t._v(" "),a("div",{staticClass:"form-group mb-5",class:{"has-error":t.errors.has("testimonial")}},[t._m(6),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.details.testimonial,expression:"details.testimonial"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control form-control-pill",attrs:{name:"testimonial",id:"form-testimonial"},domProps:{value:t.details.testimonial},on:{input:function(a){a.target.composing||t.$set(t.details,"testimonial",a.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.errors.first("testimonial")))])]),t._v(" "),a("div",{staticClass:"form-group mt-20"},[a("button",{staticClass:"btn btn-success btn-round btn-block",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createTestimonial}},[t._v("Create")])])])],1),t._v(" "),t._m(7)])])])])])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card-title"},[t("button",{staticClass:"btn btn-bold btn-pure btn-twitter btn-shadow",attrs:{type:"button","data-toggle":"modal","data-target":"#modal-testimonial"}},[this._v("Create Testimonial")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Actions")]),t._v(" "),a("th",[t._v("Full Name")]),t._v(" "),a("th",[t._v("Location")]),t._v(" "),a("th",[t._v("Image")]),t._v(" "),a("th",[t._v("Testimonial")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("Enter Testimonial Details")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-full-name"}},[t("strong",[this._v("Full Name")])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-mail"}},[t("strong",[this._v("City")])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-mail"}},[t("strong",[this._v("Country")])])},function(){var t=this._self._c;return t("label",{attrs:{for:"form-testimonial"}},[t("strong",[this._v("Testimonial")])])},function(){var t=this._self._c;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-bold btn-pure btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])}],!1,null,"5a9cf2f1",null).exports}}]);